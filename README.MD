# ğŸš€ ToMi App - Monorepo

> Um aplicativo de gerenciamento de tarefas e objetivos, construÃ­do com modernas tecnologias e organizado em um **monorepo** usando [Turborepo](https://turbo.build/).

---

## ğŸ§  Escolhas TecnolÃ³gicas

Optei por utilizar **NestJS** para o back-end e **Next.js** para o front-end por jÃ¡ possuir familiaridade e experiÃªncia profissional com ambas as tecnologias. Tendo trabalhado com elas em projetos anteriores, sinto-me confortÃ¡vel para desenvolver e manter a aplicaÃ§Ã£o de forma produtiva.

## ğŸ“ˆ Pontos de Melhoria para o Futuro

- **AutenticaÃ§Ã£o Robusta**: Implementar um sistema de login completo com JWT (JSON Web Tokens), incluindo refresh tokens e uma estratÃ©gia de blacklist para logout e invalidar sessÃµes.
- **SeguranÃ§a da API**:
    - Validar e sanitizar todos os inputs provenientes do front-end para prevenir ataques como XSS e SQL Injection.
    - Implementar `rate limiting` para proteger a API contra ataques de negaÃ§Ã£o de serviÃ§o (DoS) e forÃ§a bruta.
- **Controle de Acesso**: Antes de permitir a exclusÃ£o de uma tarefa, verificar se o usuÃ¡rio autenticado Ã© de fato o proprietÃ¡rio da mesma.
- **ContainerizaÃ§Ã£o**: Utilizar Docker e Docker Compose para criar um ambiente de desenvolvimento e produÃ§Ã£o padronizado, facilitando o deploy e a escalabilidade da aplicaÃ§Ã£o.

---

## ğŸ› ï¸ Tecnologias Principais

- **Monorepo**: [Turborepo](https://turbo.build/repo) com [pnpm](https://pnpm.io)
- **Front-end**: [Next.js 15](https://nextjs.org) (App Router)
- **Back-end**: [Node.js](https://nodejs.org) + [NestJS](https://nestjs.com)
- **Linguagem**: [TypeScript](https://www.typescriptlang.org/)
- **Banco de dados**: PostgreSQL (produÃ§Ã£o) / SQLite (desenvolvimento)
- **Ferramentas**: [Docker](https://www.docker.com), [Docker Compose](https://docs.docker.com/compose/)

---

## ğŸ“ Estrutura do Projeto

```bash
tomi/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/        # AplicaÃ§Ã£o Next.js (front-end)
â”‚   â””â”€â”€ api/        # API NestJS (back-end)
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ts-config/  # ConfiguraÃ§Ãµes de TypeScript compartilhadas
â”‚   â””â”€â”€ validation/ # Esquemas de validaÃ§Ã£o (Zod) compartilhados
â”œâ”€â”€ .env            # VariÃ¡veis de ambiente (locais)
â”œâ”€â”€ .env.example    # Arquivo de exemplo para variÃ¡veis de ambiente
â””â”€â”€ README.md
```

---

### PrÃ©-requisitos

Este projeto utiliza `pnpm` como gerenciador de pacotes. Certifique-se de que ele esteja instalado globalmente em sua mÃ¡quina:

```bash
npm install -g pnpm
```

### 1. ConfiguraÃ§Ã£o de Ambiente

As variÃ¡veis de ambiente sÃ£o essenciais para a execuÃ§Ã£o do projeto.

1.  Crie uma cÃ³pia do arquivo `.env.example` na raiz do projeto e renomeie-a para `.env`.
2.  Abra o arquivo `.env` e preencha as variÃ¡veis. Para um ambiente de desenvolvimento, vocÃª pode usar a seguinte configuraÃ§Ã£o: (lembrando que isso sÃ³ Ã© necessÃ¡rio para publicar o app. Em modo desenvolvimento as config default sÃ£o suficientes)

    ```env
    # .env
    WEBPORT=3000
    APIPORT=3333
    DATABASE_URL="file:./database.db" # Usa o SQLite para desenvolvimento
    JWT_SECRET="your-super-secret-key" # IMPORTANTE: Troque por uma chave segura
    NODE_ENV="development"
    ```

### 2. InstalaÃ§Ã£o de DependÃªncias

Execute o comando abaixo na raiz do projeto. Ele instalarÃ¡ todas as dependÃªncias necessÃ¡rias para todos os workspaces (`apps` e `packages`).

```bash
pnpm install
```

---

## ğŸš€ Executando em Desenvolvimento

Para iniciar os servidores de desenvolvimento do front-end e do back-end simultaneamente, execute:

```bash
pnpm dev
```

O Turborepo irÃ¡ iniciar ambos os serviÃ§os em modo *watch*.
- **Front-end (Next.js)** estarÃ¡ disponÃ­vel em `http://localhost:3000`
- **Back-end (NestJS)** estarÃ¡ disponÃ­vel em `http://localhost:3333`

---

## ğŸ“¦ Build para ProduÃ§Ã£o

Para gerar as builds otimizadas de todas as aplicaÃ§Ãµes, execute:

```bash
pnpm build
```

Este comando cria os artefatos de produÃ§Ã£o nos seguintes diretÃ³rios:
- `apps/api/dist`
- `apps/web/.next`

ApÃ³s o build, vocÃª pode iniciar as aplicaÃ§Ãµes em modo produÃ§Ã£o com os seguintes comandos:

```bash
# Para iniciar a API em produÃ§Ã£o
pnpm --filter api start:prod

# Para iniciar o front-end em produÃ§Ã£o
pnpm --filter web start
```

---

## ğŸ³ Docker

O projeto tambÃ©m pode ser executado utilizando Docker e Docker Compose para simplificar a implantaÃ§Ã£o e a consistÃªncia entre ambientes.